<h1 id="set-secure-environment-variables">Set Secure Environment Variables</h1>

<p>If your application requires environment variables, <strong>DO NOT</strong> <strong>set them directly in the Docker Compose file</strong>. Instead, set them through the <strong>Encrypted Secrets</strong> section.</p>

<ol>
  <li>
    <p>First you need to declare the environments in Docker compose file like below:</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">services</span><span class="p">:</span>
   <span class="n">your</span><span class="o">-</span><span class="n">service</span><span class="p">:</span>
 	  <span class="n">environment</span><span class="p">:</span>
 	      <span class="o">-</span> <span class="n">OPENAI_API_KEY</span><span class="o">=</span><span class="err">$</span><span class="p">{</span><span class="n">OPENAI_API_KEY_IN_ENV</span><span class="p">}</span>
 	      <span class="o">-</span> <span class="n">TWITTER_API_KEY</span><span class="o">=</span><span class="err">$</span><span class="p">{</span><span class="n">TWITTER_API_KEY_IN_ENV</span><span class="p">}</span>
</code></pre></div>    </div>

    <p>And <strong>DO NOT</strong> set environment with double quotation marks <code class="language-plaintext highlighter-rouge">OPENAI_API_KEY="${OPENAI_API_KEY_IN_ENV}"</code></p>
  </li>
  <li>
    <p>Then set ENV values in <strong>Encrypted Secrets</strong> section.</p>
  </li>
</ol>

<p><img src="/phala-cloud-community/imgs/set-env.png" alt="set-env" /></p>
