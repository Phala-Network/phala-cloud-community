<h1 id="debug-your-application">Debug Your Application</h1>

<p>When deploying your application on the Cloud UI, you can choose between two types of CVM base images: <code class="language-plaintext highlighter-rouge">dstack-&lt;version&gt;</code> and <code class="language-plaintext highlighter-rouge">dstack-dev-&lt;version&gt;</code>. The dev image allows you to log in to the CVM in the future for debugging purposes. If you opt for a non-dev image, rest assured that no one will have the ability to access your CVM, either physically or remotely.</p>

<p><img src="/phala-cloud-community/imgs/debug-cvm.png" alt="debug-cvm" /></p>

<p>For example, to enable the use of tool <strong>ttypd</strong> for logging into your CVM from a web browser, you need to add a ttypd service to your Docker Compose file as shown below:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">services</span><span class="pi">:</span>
  <span class="na">alpine-ttypd</span><span class="pi">:</span>
    <span class="na">build</span><span class="pi">:</span> <span class="s">.</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">hackinglab/alpine-ttyd-bash:3.2</span>
    <span class="na">environment</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">AUTHOR=e1</span>
    <span class="pi">-</span> <span class="s">HL_USER_USERNAME=root</span>
    <span class="pi">-</span> <span class="s">HL_USER_PASSWORD=123QWEasd</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">7681:7681</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">/:/host</span>
    <span class="na">network_mode</span><span class="pi">:</span> <span class="s">host</span>
</code></pre></div></div>

<p>You can then view a specific endpoint for the ttypd service by navigating to “<strong>View Details</strong>” → “<strong>Network</strong>.” When you open this endpoint in your browser, you will see a terminal interface. The next step is to install the <strong>openssh-client</strong>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@tdx:~ <span class="c"># **apk update &amp;&amp; apk add openssh-client**</span>

fetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz
fetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz
v3.13.12-98-g1d183746afa <span class="o">[</span>https://dl-cdn.alpinelinux.org/alpine/v3.13/main]
v3.13.12-94-g0551adbecc <span class="o">[</span>https://dl-cdn.alpinelinux.org/alpine/v3.13/community]
OK: 13906 distinct packages available
<span class="o">(</span>1/3<span class="o">)</span> Installing openssh-keygen <span class="o">(</span>8.4_p1-r4<span class="o">)</span>
<span class="o">(</span>2/3<span class="o">)</span> Installing libedit <span class="o">(</span>20191231.3.1-r1<span class="o">)</span>
<span class="o">(</span>3/3<span class="o">)</span> Installing openssh-client <span class="o">(</span>8.4_p1-r4<span class="o">)</span>
Executing busybox-1.32.1-r9.trigger
OK: 280 MiB <span class="k">in </span>92 packages
</code></pre></div></div>

<p>You can now log in to the CVM using the command <code class="language-plaintext highlighter-rouge">ssh root@localhost</code>. As shown below, you can retrieve information about running Docker containers by executing the command <code class="language-plaintext highlighter-rouge">docker ps -a</code> within the CVM.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@tdx:~ <span class="c"># **ssh root@localhost**</span>
The authenticity of host <span class="s1">'localhost (::1)'</span> can<span class="s1">'t be established.
RSA key fingerprint is SHA256:NKeb2o6243Tj+3dRA9CdQXIwxtXFQFeBN/mJDfetMZk.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '</span>localhost<span class="s1">' (RSA) to the list of known hosts.
Welcome to Dstack!
root@tdx:~# 
root@tdx:~# **docker ps -a**
CONTAINER ID   IMAGE                             COMMAND                  CREATED          STATUS          PORTS                               NAMES
e011968e78d8   hackinglab/alpine-ttyd-bash:3.2   "/init"                  10 minutes ago   Up 10 minutes                                       tapp-alpine-ttypd-1
f7acac54add8   kennethreitz/httpbin:latest       "gunicorn -b 0.0.0.0…"   2 weeks ago      Up 10 minutes   0.0.0.0:80-&gt;80/tcp, :::80-&gt;80/tcp   tapp-httpbin-1
root@tdx:~# 
</span></code></pre></div></div>
